---
title: Activity 1.2
pre: "<i class='fas fa-tools'></i> &nbsp;"
weight: 5
output: blogdown::html_page
---



<div id="rstudio-and-r-markdown" class="section level1">
<h1>RStudio and R Markdown</h1>
<p>Requirements:</p>
<ul>
<li>GitHub account</li>
<li>RStudio Cloud account</li>
</ul>
<p>Goals:</p>
<ul>
<li>Demonstrate using the complete course workflow</li>
<li></li>
<li></li>
</ul>
<div id="introduction" class="section level2">
<h2>Introduction</h2>
<p>In this activity you are introduced to R (the statistical programming language) and RStudio (the interface) that we will be using throughout the course.
You are provided with specific tasks to complete here, but I encourage you to explore beyond what is dictated.
A willingness to experiment will make you much better at programming.</p>
<p>This activity will have you interact with the R and RStudio interface, reading in data, and basic commands.
We still are not getting to collaboration with GitHub so while you work through this lab, help your team members.</p>
</div>
<div id="getting-started" class="section level2">
<h2>Getting Started</h2>
<p>Activities and assignments will begin with similar steps.
They will be outlined here in detail, but become more sparse as the semester progresses.
You can always refer back to this activity for a detailed list of steps for getting started.</p>
<ol style="list-style-type: decimal">
<li>Click on the activity link that is posted on <a href="https://mybb.gvsu.edu">Bb</a> (Documents &gt; Activities).
This will create your GitHub repository (repo) for this activity that contains a template you will build on</li>
<li>On GitHub, click on the green “Clone or download” button</li>
</ol>
<ul>
<li>Select “Use HTTPS” (this is probably selected by default)</li>
<li>Click on the clipboard icon to copy the repo URL</li>
</ul>
<ol start="3" style="list-style-type: decimal">
<li>In RStudio Cloud go into the course workspace to create a “New Project from Git Repo”.</li>
</ol>
<ul>
<li>You will need to click on the down arrow next to the “New Project” button to see this option</li>
<li>Paste the URL of your assignment URL into the dialogue box</li>
<li>Click “OK” and you are (almost) good to go!</li>
</ul>
<div id="r-packages" class="section level3">
<h3>R Packages</h3>
<p>For this activity, we will work with two R packages:
- <code>datasauRus</code> which contains the dataset, and
- <code>tidyverse</code> wich is a collection of packages for doing data anlysis in a “tidy” way.</p>
<p>Install these by running the following code in the <em>Console</em> (bottom left-hand pane).</p>
<pre class="r"><code>install.packages(&quot;tidyverse&quot;)
install.packages(&quot;datasauRus&quot;)</code></pre>
<p>Now that the necessary packages are install, you should be able to proceeed.</p>
</div>
<div id="configure-communication-with-github" class="section level3">
<h3>Configure Communication with GitHub</h3>
<p>Before we go crazy with R, we need to configure your Git so that RStudio can communicate with GitHub.
This requires two details: the email address attached to your GitHub account and your name.
To configure this, do the following steps:</p>
<ul>
<li>Go to the <em>Terminal</em> pane (second tab in the bottom left-hand pane - next to <a href="https://r4ds.had.co.nz/workflow-scripts.html"><em>Console</em></a>)</li>
<li>Type the following to lines of code, replaing the information in the quotation marks with your info (keep the quotes):</li>
</ul>
<pre class="bash"><code>git config --global user.email &quot;your email&quot;
git config --global user.name &quot;your name&quot;</code></pre>
<ul>
<li>For example, I have done</li>
</ul>
<pre class="bash"><code>git config --global user.email &quot;dykesb@gvsu.edu&quot;`
git config --global user.name &quot;B Dykes&quot;</code></pre>
<ul>
<li>Confirm that the changes have been implements by running the following code:</li>
</ul>
<pre class="bash"><code>git config --global user.email
git config --global user.name</code></pre>
<p>We are now going to see how RStudio and GitHub communicate.
First, we need to make some changes.</p>
</div>
<div id="project-name" class="section level3">
<h3>Project Name</h3>
<p>Currently your project is called “Untitled Project”.
Update the name of your project to be “Activity 1.2 - RStudio and R Markdown” (near the top left-hand corner of your browser).</p>
</div>
<div id="yaml" class="section level3">
<h3>YAML</h3>
<p>Go to the <em>Files</em> pane (first tab in the bottom right-hand pane) and open the R Markdown (<code>.Rmd</code>) file in your project.
R Markdown combines the core syntax of markdown with embedded R code chunks so that we can easily create output within our final documents.</p>
<p>The top portion of a R Markdown file contains YAML (between the three dashed lines).
“YAML” is a self-referencing (it sands for <em>YAML Ain’t Makrup Language</em>) human-readable data-serialization standard for all programming languages.
You simply need to know that this area is called the YAML and it contains meta information about the document.</p>
<p>Change the author name to you name, the date to today, and knit (icon at the top of the Rmd pane) the document.</p>
</div>
<div id="commit-changes" class="section level3">
<h3>Commit Changes</h3>
<p>Go to the Git pane (fourth tab in the upper right-hand pane) in RStudio.</p>
<p>When you make changes to your Rmd file, you should see them listed here.
Click on it in this list, then click on <strong>Diff</strong>.
This shows you the <em>difference</em> between the last committed state of the document and its current state - including your changes.</p>
<p>If you are happy with these changes, write “Update author name” in the <strong>Commit message</strong> dialogue box and click on <strong>Commit</strong>.</p>
<p>You do not have to commit after every change as this would get rather annoying.
Instead, you should consider committing after <em>meaningful</em> (to you) changes to help make inspection, comparison, or restoration easy.
During the first few activities, I will let you know when to commit and (in some cases) what commit message to use.
As we progress throughout the semester, I will gladly relinquish that power to you.</p>
</div>
<div id="pushing-changes" class="section level3">
<h3>Pushing Changes</h3>
<div class="figure">
<img src="https://media.giphy.com/media/Maf9DN4Ftb0BO/giphy.gif" title="gif from the Salt-n-Pepa &#39;Push It&#39; music video" alt="Push it" />
<p class="caption">Push it</p>
</div>
<p>You have made an update and committed this change, it is now time to push these changes to your repo on GitHub.
Why?
So that others (namely, me, for now) can see your changes.
Your repos in this course are private and so only you, me, and (when we begin group repos) your team members can see your repos.</p>
<p>To push your changes to GitHub, click on <strong>Push</strong>.
This will prompt a dialogue box where you will first need to enter your user name and then your GitHub password.
For now we will continue doing this method, but later I will show you how to save your password so you don’t need to enter it everytime.</p>
<p>Now, go back to your GitHub repo (at GitHub.com) and verify that this change has been made.
You may need to refresh your browser page.</p>
<blockquote>
<p>Discuss with your team members: For which of the above steps do you need to have an internet connection?</p>
</blockquote>
</div>
</div>
<div id="data" class="section level2">
<h2>Data</h2>
<p>The data frame that we will be working with is called <code>datasaurus_dozen</code> and it is in the <code>datasauRus</code> package.
This data frame is actually a baker’s dozen (13) of datasets, designed to show us why data visualization is important and how summary statistics alone can be misleading (you may have seen <a href="https://en.wikipedia.org/wiki/Anscombe%27s_quartet">Anscombe’s Quartet</a> in previous classes).</p>
<p>To find out more about the dataset, type the following in your <em>Console</em> in R Studio: <code>?datasuarus_dozen</code>.
A question mark before the name of an R object will bring up its help file.
This command <em>must</em> be ran in the <em>Console</em>.</p>
<hr />
<p><strong>Exercise 1:</strong>
Based on the help file, how many rows and how many columns does the <code>datasaurus_dozen</code> file have?
What are the variables included in the data frame?
Add your informative responses to your activity report Rmd file.
When you are done, commit your changes with the commit message, “Added answer for Ex 1”, and push.</p>
<hr />
<p>While you work on this activity with you team, you may want to test code out in your <em>Console</em> before adding it to your Rmd document.
Therefore, you should also load the packages in your <em>Console</em>.
To do so, run the following in the <em>Console</em>.</p>
<pre class="r"><code>library(tidyverse)
library(datasauRus)</code></pre>
<p>Note that the packages are loaded with the same commands in your Rmd document.</p>
<p>The original Datasaurus dataset (<code>dino</code>) was created by <a href="http://www.thefunctionalart.com/2016/08/download-datasaurus-never-trust-summary.html">Alberto Cario</a>.
The other <em>dozen</em> were generated using simulated annealing and the process is described in Justin Matejka and George Fitzmaurice’s <a href="https://dl.acm.org/citation.cfm?id=3025912">paper</a> where the authors simulate a variety of datasets that produce the same summary statistics as the Datasaurus, but have very different distributions.</p>
<p>We can peak into what these 13 datasets are with a frequency table of the dataset variable:</p>
<pre class="r"><code>datasaurus_dozen %&gt;%
  count(dataset) %&gt;%
  print(13)</code></pre>
<pre><code>## # A tibble: 13 x 2
##    dataset        n
##    &lt;chr&gt;      &lt;int&gt;
##  1 away         142
##  2 bullseye     142
##  3 circle       142
##  4 dino         142
##  5 dots         142
##  6 h_lines      142
##  7 high_lines   142
##  8 slant_down   142
##  9 slant_up     142
## 10 star         142
## 11 v_lines      142
## 12 wide_lines   142
## 13 x_shape      142</code></pre>
<p>The <code>print(13)</code> line forces R to print all 13 lines.</p>
<div id="data-visualization-and-summary" class="section level3">
<h3>Data Visualization and Summary</h3>
<p>The code you will need to complete this exercise is provided below, but you will need to include the relevant bits in your Rmd document and successfully knit and view the results.</p>
<hr />
<p><strong>Exercise 2:</strong>
Plot <code>y</code> vs. <code>x</code> for the <code>dino</code> dataset.
Then, calculate the correlation coefficient between <code>x</code> and <code>y</code> for this dataset.</p>
<hr />
<p>Start with the <code>datasaurus_dozen</code>, <em>then</em> <code>filter</code> it to only include observations where <code>dataset == "dino"</code>.
Assign the resulting filtered data frame as a new data frame called <code>dino_data</code>.</p>
<pre class="r"><code>dino_data &lt;- datasaurus_dozen %&gt;% 
  filter(dataset == &quot;dino&quot;)</code></pre>
<p>Let’s unpack this code.</p>
<p>First, the assignment operator <code>&lt;-</code> assigns the name <code>dino_data</code> to the final filtered data.</p>
<p>Second, the pipe operator <code>%&gt;%</code> takes what comes before it and sends it as the first argument to what comes after it.
This is like saying, "Take the <code>datasaurus_dozen</code> data frame then <code>filter</code> it for observations where <code>data == "dino"</code>.</p>
<p>From STA 216, this is like the following in SAS:</p>
<pre><code>DATA dino_data;
SET datasaurus_dozen;
WHERE dataset = &quot;dino&quot;;
RUN;</code></pre>
<p>Now we need to visualize the data!
We will use the <code>ggplot</code> function for this.
Its first argument is the data that you are visualizeing.
Next, we define the aesthetic mappings (<code>aes</code>).
In other words, the columns of the data that get mapped to certain aesthetic features of the plot (e.g., the <code>x</code> and <code>y</code> axis will be called <code>x</code> and <code>y</code>, respectively).
Then, we add (<code>+</code>) another layer to this plot where we define which geometric shapes (<code>geom</code>) we want to use to represent the observations.
In this case we want to use points (<code>geom_point</code>).</p>
<pre class="r"><code>ggplot(data = dino_data, mapping = aes(x = x, y = y)) +
  geom_point()</code></pre>
<p>We are going to go into great detail of this and the philosophy of building data visualizations in layers in the next learning module.
For now, just follow along with the provided code.</p>
<p>To do the second part of this exercise, we need to calculate a summary statistic: <span class="math inline">\(r\)</span> - the correlation coefficient.
Recall that this measures the strength and direction of the linear association between two quantitative variables.
You will see that some of the pairs of variables we plot do not have a linear relationship between them.
This is why we want to visualize first!</p>
<ul>
<li>Visualize to assess the form of the relationship, and</li>
<li>Calculate <span class="math inline">\(r\)</span> only if relevant.</li>
</ul>
<p>In this case, calculating a correlation coefficient doesn’t make sense because the relationship is between <code>x</code> and <code>y</code> is not linear.
How would you describe its shape?</p>
<p>For illustrative purposes, we will now calculate <span class="math inline">\(r\)</span> between <code>x</code> and <code>y</code>.</p>
<pre class="r"><code>dino_data %&gt;% 
  summarize(r = cor(x, y))</code></pre>
<p>This code says, “Start with the <code>dino_data</code>, then calculate a summary statistic (<code>summarize</code>) that we will call <span class="math inline">\(r\)</span> as the correlation (<code>cor</code>) between <code>x</code> and <code>y</code>.”</p>
<p><em>Verify your results with your team members, then commit changes with the commit message, “Added answer for Ex 2”, and push.</em></p>
<hr />
<p><strong>Exercise 3:</strong>
Plot <code>y</code> vs. <code>x</code> for the <code>star</code> dataset.
Then, calculate the correlation coefficient between <code>x</code> and <code>y</code> for this dataset.
How does this value compare to the <span class="math inline">\(r\)</span> of <code>dino</code>?</p>
<hr />
<p>You can (and should) reuse the code we introduced above, just replace the information with the desired names.</p>
<p><em>Verify your results with your team members, then commit changes with the commit message, “Added answer for Ex 3”, and push.</em></p>
<hr />
<p><strong>Exercise 4:</strong>
Plot <code>y</code> vs. <code>x</code> for the <code>circle</code> dataset.
Then, calculate the correlation coefficient between <code>x</code> and <code>y</code> for this dataset.
How does this value compare to the <span class="math inline">\(r\)</span> of <code>dino</code>?</p>
<hr />
<p>You can (and should) reuse the code we introduced above, just replace the information with the desired names.</p>
<p><em>Verify your results with your team members, then commit changes with the commit message, “Added answer for Ex 4”, and push.</em></p>
<hr />
<p><strong>Exercise 5:</strong>
Now we will plot all datasets at once.
To do this, we wil make use of facetting.</p>
<hr />
<pre class="r"><code>ggplot(data = datasaurus_dozen, aes(x = x, y = y, color = dataset)) +
  geom_point() +
  facet_wrap(~ dataset, ncol = 3) +
  theme(legend.position = &quot;none&quot;)</code></pre>
<blockquote>
<p>As a team, discuss the following parts of this code:
What did the <code>color = dataset</code> do?
What did the <code>ncol = 3</code> option in the <code>facet_wrap</code> do?
What did the <code>theme(legend.position = "none")</code> do?</p>
</blockquote>
<p>We will discuss these as a class after everyone has done the final commit at the end of this activity.</p>
<p>Now we will use the <code>group_by</code> function to generate all the summary correlation coefficients.</p>
<pre class="r"><code>datasaurus_dozen %&gt;%
  group_by(dataset) %&gt;%
  summarize(r = cor(x, y)) %&gt;%
  print(13)</code></pre>
<p>You’re done with the data analysis exercises, but I want you to spend some time snazzing up your Rmd document.</p>
</div>
<div id="resize-your-figures" class="section level3">
<h3>Resize Your Figures</h3>
<ul>
<li>Click on the gear icon in on top of the R Markdown document, and select “Output Options…” in the dropdown menu.</li>
<li>In the pop up dialogue box go to the <em>Figures</em> tab and change the height and width of the figures.</li>
<li>Click on “OK” when done.</li>
<li>Knit your document and see how you like the new sizes.</li>
<li>Change and knit again and again until you’re happy with the figure sizes.</li>
</ul>
<p>Note that these values get saved in the YAML (another way that you can make these changes).</p>
</div>
<div id="change-the-look-of-your-report" class="section level3">
<h3>Change the Look of Your Report</h3>
<ul>
<li>Again, click on the gear icon in on top of the R Markdown document, and select “Output Options…” in the dropdown menu.</li>
<li>In the <em>General</em> tab of the pop up dialogue box try out different Syntax highlighting and theme options.</li>
<li>Click on “OK” and knit your document to see how it looks.</li>
<li>Play around with these until you’re happy with the look.</li>
</ul>
<p><strong>You are done!</strong>
<em>Commit all remaining changes, use the commit message, “Done with Activity 1.2! 😎” </em></p>
<p>Double check that your GitHub repo has been updated.</p>
</div>
</div>
</div>
